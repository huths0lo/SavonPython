import requests
from time import sleep

JWT_TOKEN = input('Enter your current JWT Token: ')
STORE_ID = 2678
RAND = 379356
COOKIE = 'AMCVS_A7BF3BC75245ADF20A490D4D%40AdobeOrg=1; AMCV_A7BF3BC75245ADF20A490D4D%40AdobeOrg=179643557%7CMCIDTS%7C19693%7CMCMID%7C19229372154365645385795939062946829519%7CMCOPTOUT-1701403172s%7CNONE%7CvVersion%7C5.5.0; ECommReInit=net|cart|slot; SAFEWAY_KMSI=true; SAFEWAY_MODAL_LINK=; SAFEWAY_RE_SIGN_IN=false; SWY_SYND_USER_INFO=%7B%22firstName%22%3A%22John%22%2C%22hhid%22%3A%22290085343462%22%2C%22storeAddress%22%3A%226040+Telegraph+Rd%2C+Ventura%2C+CA+93003%22%2C%22storeId%22%3A%222678%22%2C%22storeZip%22%3A%2293003%22%2C%22preference%22%3A%22DUG%22%7D; TEST_AMCV_COOKIE_WRITE=cookie; USED_CREDENTIALS=%7B%22uid%22%3A%2200ujkf8simeMNLmVH2p6%22%2C%22signature%22%3A%225fb7fce9b5180195a92ae46588e92490194e084a436d98c4193021722adc1692%22%2C%22timeCreated%22%3A%221701392711289%22%7D; at_check=true; mbox=PC#4a8c4d6843ec4969adc118bbdad81eb6.35_0#1764640774|session#a4434282096b45118ab2fedf77249e0c#1701397834; ECommBanner=vons; ECommSignInCount=0; SWY_SHARED_PII_SESSION_INFO=%7B%22version%22%3A%221%22%2C%22jti%22%3A%22AT.qwUp7SPpbiM2obI42vS_ahOwTVlzwTn1KHufApj7ka0.oar2k5xgc2nj0Mtee2p7%22%2C%22issuer%22%3A%22https%3A%2F%2Falbertsons.okta.com%2Foauth2%2Fausp6soxrIyPrm8rS2p6%22%2C%22audience%22%3A%5B%22Albertsons%22%5D%2C%22uniqueId%22%3A%2200ujkf8simeMNLmVH2p6%22%2C%22scope%22%3A%5B%22offline_access%22%2C%22openid%22%2C%22email%22%2C%22profile%22%5D%2C%22name%22%3A%22John%22%2C%22gid%22%3A%22300-367-1001243535%22%2C%22uuid%22%3A%2232862677-37aa-4406-97ca-3a7374b07bcb%22%2C%22userData%22%3A%7B%7D%7D; SWY_SHARED_SESSION=%7B%22accessToken%22%3A%22eyJraWQiOiJxYkpsN1lDa2NiYW5nNzlUWURYNk5HOER4Y2hhY2tPdG9tenVPVURqaFA4IiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnF3VXA3U1BwYmlNMm9iSTQydlNfYWhPd1RWbHp3VG4xS0h1ZkFwajdrYTAub2FyMms1eGdjMm5qME10ZWUycDciLCJpc3MiOiJodHRwczovL2FsYmVydHNvbnMub2t0YS5jb20vb2F1dGgyL2F1c3A2c294ckl5UHJtOHJTMnA2IiwiYXVkIjoiQWxiZXJ0c29ucyIsImlhdCI6MTcwMTM5NTk3MywiZXhwIjoxNzAxMzk4NjczLCJjaWQiOiIwb2FwNmt1MDFYSnFJUmRsNDJwNiIsInVpZCI6IjAwdWprZjhzaW1lTU5MbVZIMnA2Iiwic2NwIjpbIm9mZmxpbmVfYWNjZXNzIiwib3BlbmlkIiwiZW1haWwiLCJwcm9maWxlIl0sImF1dGhfdGltZSI6MTcwMTM5MjcxMCwiemlwIjoiOTIxMTAiLCJzdWIiOiJqb2huQGJleW9uZHZvaXAubmV0IiwiaGlkIjoiMjkwMDg1MzQzNDYyIiwiZG5tIjoiSm9obiIsImFsbiI6IjYwMDMxNTYwNTczODc0IiwiZ2lkIjoiMzAwLTM2Ny0xMDAxMjQzNTM1IiwiZW1sIjoiam9obkBiZXlvbmR2b2lwLm5ldCIsImFwc2kiOiJZIiwibG5tIjoiSHV0aG1ha2VyIiwidXVpZCI6IjMyODYyNjc3LTM3YWEtNDQwNi05N2NhLTNhNzM3NGIwN2JjYiIsImJhbiI6InZvbnMiLCJzdHIiOiIyMDUzIiwiY3QiOiIiLCJ1bm0iOiJqb2huQGJleW9uZHZvaXAubmV0IiwicGhuIjoiNTYyNzA0MDIzOSIsImJpZCI6IiIsImF2cyI6IlkifQ.DKOILkaLh6luCr67z9rWEHosvvTpeEJuf7M1QMIDXosRq7uDFBiIJeMZMCu28CEoT6pKhoQtmktdJeN0SOawO3R8_VC_IudkTZH3VHQHvhPKUTXj2lq3FD8jG6aDvosej0uIoazfaSrS9ofd2HphuccrNW_B9OlDRzv0axRl5l2Nbp6dvV63p0DZf-c5YoI_tj6CpkGjHdNN_UxaUu3dKoVIA0ZIOEwWLAZ63sC9LOM8vl6BoKcFk4x1q0LIv5xbdiyALf9HMF9E5s8_cGf3-b2B9nrLe1oSq2jbmyBQjSzR8qTk-VSUCSg3NztUIYYjbiYdoYRlXRdj6xL9gU-K0Q%22%2C%22refreshToken%22%3A%225icVunFGUlhhV-ljhwRF2wdo6JFcHjsgCnvFzO7KX0A%22%2C%22issueTime%22%3A1701395973000%2C%22expireTime%22%3A1701398673000%7D; SWY_SHARED_SESSION_INFO=%7B%22info%22%3A%7B%22COMMON%22%3A%7B%22houseId%22%3A%22290085343462%22%2C%22clubCard%22%3A%2260031560573874%22%2C%22userType%22%3A%22R%22%2C%22zipcode%22%3A%2292110%22%2C%22banner%22%3A%22vons%22%2C%22preference%22%3A%22DUG%22%2C%22isClosed%22%3A%22false%22%2C%22isCrossBannerMFCUser%22%3A%22false%22%2C%22Selection%22%3A%22user%22%2C%22xDTags%22%3A%22bad_user_agents%2C+non_human%22%2C%22isARenrolled%22%3A%22false%22%2C%22wfcStoreId%22%3A%225799%22%2C%22userData%22%3A%7B%22expireTime%22%3A%221701398673000%22%7D%2C%22grsSessionId%22%3A%223ff96308-c734-4c48-a92a-fd7134db11a5%22%2C%22siteType%22%3A%22C%22%2C%22customerType%22%3A%22%22%7D%2C%22J4U%22%3A%7B%22userType%22%3A%22R%22%2C%22storeId%22%3A%222678%22%2C%22zipcode%22%3A%2293003%22%2C%22address%22%3A%226040+Telegraph+Rd%2C+Ventura%2C+CA+93003%22%2C%22userData%22%3A%7B%22guestStoreId%22%3A%222678%22%2C%22guestZipCode%22%3A%2293003%22%7D%7D%2C%22SHOP%22%3A%7B%22userType%22%3A%22R%22%2C%22storeId%22%3A%222678%22%2C%22zipcode%22%3A%2293003%22%2C%22address%22%3A%226040+Telegraph+Rd%2C+Ventura%2C+CA+93003%22%2C%22userData%22%3A%7B%22guestStoreId%22%3A%222678%22%2C%22guestZipCode%22%3A%2293003%22%2C%22signInCalled%22%3Afalse%2C%22driveUpAndGoIsEnabled%22%3A%22false%22%2C%22unattendedDeliveryIsEnabled%22%3A%22false%22%2C%22expireTime%22%3A%221701398673000%22%7D%7D%7D%7D; ___utmvc=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; abs_previouslogin=%7B%22info%22%3A%7B%22COMMON%22%3A%7B%22houseId%22%3A%22290085343462%22%2C%22clubCard%22%3A%2260031560573874%22%2C%22userType%22%3A%22C%22%2C%22storeId%22%3A%222053%22%2C%22zipcode%22%3A%2292110%22%2C%22banner%22%3A%22vons%22%2C%22preference%22%3A%22DUG%22%2C%22isClosed%22%3A%22false%22%2C%22isCrossBannerMFCUser%22%3A%22false%22%2C%22Selection%22%3A%22user%22%2C%22isARenrolled%22%3A%22false%22%2C%22wfcStoreId%22%3A%225799%22%2C%22userData%22%3A%7B%7D%2C%22grsSessionId%22%3A%223ff96308-c734-4c48-a92a-fd7134db11a5%22%2C%22siteType%22%3A%22C%22%2C%22customerType%22%3A%22%22%7D%2C%22J4U%22%3A%7B%22storeId%22%3A%222678%22%2C%22zipcode%22%3A%2293003%22%2C%22address%22%3A%226040+Telegraph+Rd%2C+Ventura%2C+CA+93003%22%2C%22userData%22%3A%7B%22guestStoreId%22%3A%222678%22%2C%22guestZipCode%22%3A%2293003%22%7D%7D%2C%22SHOP%22%3A%7B%22storeId%22%3A%222678%22%2C%22zipcode%22%3A%2293003%22%2C%22address%22%3A%226040+Telegraph+Rd%2C+Ventura%2C+CA+93003%22%2C%22userData%22%3A%7B%22guestStoreId%22%3A%222678%22%2C%22guestZipCode%22%3A%2293003%22%2C%22signInCalled%22%3Afalse%2C%22driveUpAndGoIsEnabled%22%3A%22false%22%2C%22unattendedDeliveryIsEnabled%22%3A%22false%22%7D%7D%7D%7D; incap_ses_1308_1610354=9GeRTQTpWGs9COgf/fMmEmQraWUAAAAA9s1oSgXNYKNeEguYgXS7EQ==; incap_ses_133_1610354=rwldJ8LidB/3mfSZg4PYAcAxaWUAAAAAxZiJJcjgYSjoe5/kl18Zxw==; incap_ses_170_1610354=eQvxKVAXvXTjVo6yN/ZbAqY4aWUAAAAA1yalU75fr7rIrujVRHZJSw==; incap_ses_172_1610354=EIxyXgHJK24D0IL7NBFjAikyaWUAAAAAysbqYC6Tjn7aphuX7YFO0g==; incap_ses_173_1610354=wMf4MG262mA2xpgKvZ5mArAoaWUAAAAAmjdP3YtEafsG4AoK/63SMg==; incap_ses_224_1610354=VV5JGc0ZXzPB3aXBk88bAwA+aWUAAAAA/mDlkDs7DnU9lk9ULWLjrg==; incap_ses_539_1610354=w7W3CMUGKyeI198/vOl6ByA1aWUAAAAAFH+83AlGPPIp5FA1VQfFzA==; incap_ses_540_1610354=s5eZancROyq+rGVRRHh+B40paWUAAAAAXqkPfqClMcgYtw2Cd4DaJQ==; incap_ses_883_1610354=vc45COKQUEnrVzNV7gtBDPk0aWUAAAAAf+Uk8ho7HpGOEODzEpvDvA==; nlbi_1610354=Nh5MQtFW9wYYse9cwfGJNgAAAADlOfkiWlVZFm6w8Pu/boWD; nlbi_1610354_2147483392=I7GaVMDKvDiGkwXLwfGJNgAAAADXq7PFAvslLAuGc2U5sNM/; reese84=3:sJ3/DmlF7IFmeK0VrL9SBQ==:cwcSoo3HqpbI4hLkiKfe+eBAtTXXgolYYIu4bpPoRxV6McxT0M/f7YKROOpK9f+n+HpbGG4jU4oLfS3jYXip1GYm18D1eO6QKA2mhqkeuKw6ODzqbxAtsy+sakugIhcAXKM3u2AHx0KIqbfsvLC2xGF/RKAMi25l1BnBKQ62IBQkmUCJZpJk6S7l7nDYbQ6hM5hAeRyxp4KKY/5Kl1I6BiWoWfljJ/IeUtQnQm3MIotRIsv5diZQ/mEBgk7BgdMs7XSvQYkbXZZtfKYl1pBua7wHKW+eLx5LLGb1mdVfH54RgL5g04D8fQ5X7vTBOnrECF8Z7BygEMiyW1oWM8DIOk7JLTJHOJSciMJ+HsWkQ3YCHv7aAhg3kfzrgYGI0Dx3D6U0A3WNUu3VBfBbGMZyuSi9S7jqxnKFnfhgFF5WZtvWkPoKzOZksupocPgIuuRRP8/lDMx3wnfz3RUZzrIwWlMG8YeD0sSumX72UTRgHdO+AhlAkf4xCpf3XJ9ZGhfqTLdwpk95ngwnfHJxqDiJX2E1R26HPsCxOdhczf2zkZc=:Hhzn/jq3hGnN4kGJs8PnCFpcH3r5Sv/ontG0yurvCkA=; visid_incap_1610354=iMDHjKH8QeKlRw280QBnXXjSW2UAAAAAQkIPAAAAAACAtXawARdzeclF1qThWzKNqWw3Ivf7HlvF'
COOKIE2= 'abc=abc; abc=abc; AMCVS_A7BF3BC75245ADF20A490D4D%40AdobeOrg=1; AMCV_A7BF3BC75245ADF20A490D4D%40AdobeOrg=179643557%7CMCIDTS%7C19693%7CMCMID%7C19229372154365645385795939062946829519%7CMCOPTOUT-1701403172s%7CNONE%7CvVersion%7C5.5.0; ECommReInit=net|cart|slot; SAFEWAY_KMSI=true; SAFEWAY_MODAL_LINK=; SAFEWAY_RE_SIGN_IN=false; SWY_SYND_USER_INFO=%7B%22firstName%22%3A%22John%22%2C%22hhid%22%3A%22290085343462%22%2C%22storeAddress%22%3A%226040+Telegraph+Rd%2C+Ventura%2C+CA+93003%22%2C%22storeId%22%3A%222678%22%2C%22storeZip%22%3A%2293003%22%2C%22preference%22%3A%22DUG%22%7D; TEST_AMCV_COOKIE_WRITE=cookie; USED_CREDENTIALS=%7B%22uid%22%3A%2200ujkf8simeMNLmVH2p6%22%2C%22signature%22%3A%225fb7fce9b5180195a92ae46588e92490194e084a436d98c4193021722adc1692%22%2C%22timeCreated%22%3A%221701392711289%22%7D; at_check=true; mbox=PC#4a8c4d6843ec4969adc118bbdad81eb6.35_0#1764640774|session#a4434282096b45118ab2fedf77249e0c#1701397834; ECommBanner=vons; ECommSignInCount=0; SWY_SHARED_PII_SESSION_INFO=%7B%22version%22%3A%221%22%2C%22jti%22%3A%22AT.qwUp7SPpbiM2obI42vS_ahOwTVlzwTn1KHufApj7ka0.oar2k5xgc2nj0Mtee2p7%22%2C%22issuer%22%3A%22https%3A%2F%2Falbertsons.okta.com%2Foauth2%2Fausp6soxrIyPrm8rS2p6%22%2C%22audience%22%3A%5B%22Albertsons%22%5D%2C%22uniqueId%22%3A%2200ujkf8simeMNLmVH2p6%22%2C%22scope%22%3A%5B%22offline_access%22%2C%22openid%22%2C%22email%22%2C%22profile%22%5D%2C%22name%22%3A%22John%22%2C%22gid%22%3A%22300-367-1001243535%22%2C%22uuid%22%3A%2232862677-37aa-4406-97ca-3a7374b07bcb%22%2C%22userData%22%3A%7B%7D%7D; SWY_SHARED_SESSION=%7B%22accessToken%22%3A%22eyJraWQiOiJxYkpsN1lDa2NiYW5nNzlUWURYNk5HOER4Y2hhY2tPdG9tenVPVURqaFA4IiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnF3VXA3U1BwYmlNMm9iSTQydlNfYWhPd1RWbHp3VG4xS0h1ZkFwajdrYTAub2FyMms1eGdjMm5qME10ZWUycDciLCJpc3MiOiJodHRwczovL2FsYmVydHNvbnMub2t0YS5jb20vb2F1dGgyL2F1c3A2c294ckl5UHJtOHJTMnA2IiwiYXVkIjoiQWxiZXJ0c29ucyIsImlhdCI6MTcwMTM5NTk3MywiZXhwIjoxNzAxMzk4NjczLCJjaWQiOiIwb2FwNmt1MDFYSnFJUmRsNDJwNiIsInVpZCI6IjAwdWprZjhzaW1lTU5MbVZIMnA2Iiwic2NwIjpbIm9mZmxpbmVfYWNjZXNzIiwib3BlbmlkIiwiZW1haWwiLCJwcm9maWxlIl0sImF1dGhfdGltZSI6MTcwMTM5MjcxMCwiemlwIjoiOTIxMTAiLCJzdWIiOiJqb2huQGJleW9uZHZvaXAubmV0IiwiaGlkIjoiMjkwMDg1MzQzNDYyIiwiZG5tIjoiSm9obiIsImFsbiI6IjYwMDMxNTYwNTczODc0IiwiZ2lkIjoiMzAwLTM2Ny0xMDAxMjQzNTM1IiwiZW1sIjoiam9obkBiZXlvbmR2b2lwLm5ldCIsImFwc2kiOiJZIiwibG5tIjoiSHV0aG1ha2VyIiwidXVpZCI6IjMyODYyNjc3LTM3YWEtNDQwNi05N2NhLTNhNzM3NGIwN2JjYiIsImJhbiI6InZvbnMiLCJzdHIiOiIyMDUzIiwiY3QiOiIiLCJ1bm0iOiJqb2huQGJleW9uZHZvaXAubmV0IiwicGhuIjoiNTYyNzA0MDIzOSIsImJpZCI6IiIsImF2cyI6IlkifQ.DKOILkaLh6luCr67z9rWEHosvvTpeEJuf7M1QMIDXosRq7uDFBiIJeMZMCu28CEoT6pKhoQtmktdJeN0SOawO3R8_VC_IudkTZH3VHQHvhPKUTXj2lq3FD8jG6aDvosej0uIoazfaSrS9ofd2HphuccrNW_B9OlDRzv0axRl5l2Nbp6dvV63p0DZf-c5YoI_tj6CpkGjHdNN_UxaUu3dKoVIA0ZIOEwWLAZ63sC9LOM8vl6BoKcFk4x1q0LIv5xbdiyALf9HMF9E5s8_cGf3-b2B9nrLe1oSq2jbmyBQjSzR8qTk-VSUCSg3NztUIYYjbiYdoYRlXRdj6xL9gU-K0Q%22%2C%22refreshToken%22%3A%225icVunFGUlhhV-ljhwRF2wdo6JFcHjsgCnvFzO7KX0A%22%2C%22issueTime%22%3A1701395973000%2C%22expireTime%22%3A1701398673000%7D; SWY_SHARED_SESSION_INFO=%7B%22info%22%3A%7B%22COMMON%22%3A%7B%22houseId%22%3A%22290085343462%22%2C%22clubCard%22%3A%2260031560573874%22%2C%22userType%22%3A%22R%22%2C%22zipcode%22%3A%2292110%22%2C%22banner%22%3A%22vons%22%2C%22preference%22%3A%22DUG%22%2C%22isClosed%22%3A%22false%22%2C%22isCrossBannerMFCUser%22%3A%22false%22%2C%22Selection%22%3A%22user%22%2C%22xDTags%22%3A%22bad_user_agents%2C+non_human%22%2C%22isARenrolled%22%3A%22false%22%2C%22wfcStoreId%22%3A%225799%22%2C%22userData%22%3A%7B%22expireTime%22%3A%221701398673000%22%7D%2C%22grsSessionId%22%3A%223ff96308-c734-4c48-a92a-fd7134db11a5%22%2C%22siteType%22%3A%22C%22%2C%22customerType%22%3A%22%22%7D%2C%22J4U%22%3A%7B%22userType%22%3A%22R%22%2C%22storeId%22%3A%222678%22%2C%22zipcode%22%3A%2293003%22%2C%22address%22%3A%226040+Telegraph+Rd%2C+Ventura%2C+CA+93003%22%2C%22userData%22%3A%7B%22guestStoreId%22%3A%222678%22%2C%22guestZipCode%22%3A%2293003%22%7D%7D%2C%22SHOP%22%3A%7B%22userType%22%3A%22R%22%2C%22storeId%22%3A%222678%22%2C%22zipcode%22%3A%2293003%22%2C%22address%22%3A%226040+Telegraph+Rd%2C+Ventura%2C+CA+93003%22%2C%22userData%22%3A%7B%22guestStoreId%22%3A%222678%22%2C%22guestZipCode%22%3A%2293003%22%2C%22signInCalled%22%3Afalse%2C%22driveUpAndGoIsEnabled%22%3A%22false%22%2C%22unattendedDeliveryIsEnabled%22%3A%22false%22%2C%22expireTime%22%3A%221701398673000%22%7D%7D%7D%7D; ___utmvc=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; abs_previouslogin=%7B%22info%22%3A%7B%22COMMON%22%3A%7B%22houseId%22%3A%22290085343462%22%2C%22clubCard%22%3A%2260031560573874%22%2C%22userType%22%3A%22C%22%2C%22storeId%22%3A%222053%22%2C%22zipcode%22%3A%2292110%22%2C%22banner%22%3A%22vons%22%2C%22preference%22%3A%22DUG%22%2C%22isClosed%22%3A%22false%22%2C%22isCrossBannerMFCUser%22%3A%22false%22%2C%22Selection%22%3A%22user%22%2C%22isARenrolled%22%3A%22false%22%2C%22wfcStoreId%22%3A%225799%22%2C%22userData%22%3A%7B%7D%2C%22grsSessionId%22%3A%223ff96308-c734-4c48-a92a-fd7134db11a5%22%2C%22siteType%22%3A%22C%22%2C%22customerType%22%3A%22%22%7D%2C%22J4U%22%3A%7B%22storeId%22%3A%222678%22%2C%22zipcode%22%3A%2293003%22%2C%22address%22%3A%226040+Telegraph+Rd%2C+Ventura%2C+CA+93003%22%2C%22userData%22%3A%7B%22guestStoreId%22%3A%222678%22%2C%22guestZipCode%22%3A%2293003%22%7D%7D%2C%22SHOP%22%3A%7B%22storeId%22%3A%222678%22%2C%22zipcode%22%3A%2293003%22%2C%22address%22%3A%226040+Telegraph+Rd%2C+Ventura%2C+CA+93003%22%2C%22userData%22%3A%7B%22guestStoreId%22%3A%222678%22%2C%22guestZipCode%22%3A%2293003%22%2C%22signInCalled%22%3Afalse%2C%22driveUpAndGoIsEnabled%22%3A%22false%22%2C%22unattendedDeliveryIsEnabled%22%3A%22false%22%7D%7D%7D%7D; incap_ses_1308_1610354=9GeRTQTpWGs9COgf/fMmEmQraWUAAAAA9s1oSgXNYKNeEguYgXS7EQ==; incap_ses_133_1610354=rwldJ8LidB/3mfSZg4PYAcAxaWUAAAAAxZiJJcjgYSjoe5/kl18Zxw==; incap_ses_170_1610354=eQvxKVAXvXTjVo6yN/ZbAqY4aWUAAAAA1yalU75fr7rIrujVRHZJSw==; incap_ses_172_1610354=EIxyXgHJK24D0IL7NBFjAikyaWUAAAAAysbqYC6Tjn7aphuX7YFO0g==; incap_ses_173_1610354=wMf4MG262mA2xpgKvZ5mArAoaWUAAAAAmjdP3YtEafsG4AoK/63SMg==; incap_ses_224_1610354=VV5JGc0ZXzPB3aXBk88bAwA+aWUAAAAA/mDlkDs7DnU9lk9ULWLjrg==; incap_ses_539_1610354=w7W3CMUGKyeI198/vOl6ByA1aWUAAAAAFH+83AlGPPIp5FA1VQfFzA==; incap_ses_540_1610354=s5eZancROyq+rGVRRHh+B40paWUAAAAAXqkPfqClMcgYtw2Cd4DaJQ==; incap_ses_883_1610354=vc45COKQUEnrVzNV7gtBDPk0aWUAAAAAf+Uk8ho7HpGOEODzEpvDvA==; nlbi_1610354=Nh5MQtFW9wYYse9cwfGJNgAAAADlOfkiWlVZFm6w8Pu/boWD; nlbi_1610354_2147483392=I7GaVMDKvDiGkwXLwfGJNgAAAADXq7PFAvslLAuGc2U5sNM/; reese84=3:sJ3/DmlF7IFmeK0VrL9SBQ==:cwcSoo3HqpbI4hLkiKfe+eBAtTXXgolYYIu4bpPoRxV6McxT0M/f7YKROOpK9f+n+HpbGG4jU4oLfS3jYXip1GYm18D1eO6QKA2mhqkeuKw6ODzqbxAtsy+sakugIhcAXKM3u2AHx0KIqbfsvLC2xGF/RKAMi25l1BnBKQ62IBQkmUCJZpJk6S7l7nDYbQ6hM5hAeRyxp4KKY/5Kl1I6BiWoWfljJ/IeUtQnQm3MIotRIsv5diZQ/mEBgk7BgdMs7XSvQYkbXZZtfKYl1pBua7wHKW+eLx5LLGb1mdVfH54RgL5g04D8fQ5X7vTBOnrECF8Z7BygEMiyW1oWM8DIOk7JLTJHOJSciMJ+HsWkQ3YCHv7aAhg3kfzrgYGI0Dx3D6U0A3WNUu3VBfBbGMZyuSi9S7jqxnKFnfhgFF5WZtvWkPoKzOZksupocPgIuuRRP8/lDMx3wnfz3RUZzrIwWlMG8YeD0sSumX72UTRgHdO+AhlAkf4xCpf3XJ9ZGhfqTLdwpk95ngwnfHJxqDiJX2E1R26HPsCxOdhczf2zkZc=:Hhzn/jq3hGnN4kGJs8PnCFpcH3r5Sv/ontG0yurvCkA=; visid_incap_1610354=iMDHjKH8QeKlRw280QBnXXjSW2UAAAAAQkIPAAAAAACAtXawARdzeclF1qThWzKNqWw3Ivf7HlvF'
def get_coupons(JWT_TOKEN, STORE_ID, RAND):
    url = f'https://www.vons.com/abs/pub/xapi/offers/companiongalleryoffer?storeId={STORE_ID}&rand={RAND}'
    headers = {'Authorization': f'Bearer {JWT_TOKEN}',
               'Cookie': COOKIE,
               'Accept-Encoding': 'gzip, deflate, br',
               'Connection': 'keep-alive',
               'X-Swy_api_key': 'emjou',
               'X-Swy_version': '1.1',
               'X-Swy-Application-Type': 'web'}
    all_coupons = requests.get(url=url, headers=headers, timeout=30)
    if all_coupons.status_code == 200:
        all_coupons = all_coupons.json()
        all_coupons = all_coupons['companionGalleryOfferList']
    else:
        all_coupons = {}
    return all_coupons


def get_all_unclipped(all_coupons):
    unclipped = []
    for item in all_coupons:
        if item['status'] == 'U':
            unclipped.append([item['offerId'], item['offerPgm'], item['name']])
    return unclipped

def post_clip(clip_id, item_type, JWT_TOKEN, STORE_ID, COOKIE):
    url = f'https://www.vons.com/abs/pub/web/j4u/api/offers/clip?storeId={STORE_ID}'
    headers = {'Authorization': f'Bearer {JWT_TOKEN}',
               'Cookie': COOKIE,
               'Accept-Encoding': 'gzip, deflate, br',
               'Connection': 'keep-alive'}
    payload = {"items":[{"clipType":"C","itemId":str(clip_id),"itemType":item_type},{"clipType":"L","itemId":str(clip_id),"itemType":item_type}]}
    response = requests.post(url=url, json=payload, headers=headers, timeout=30)
    return response

def clip_all_coupons():
    all_coupons = get_coupons(JWT_TOKEN, STORE_ID, RAND)
    unclipped = get_all_unclipped(all_coupons)
    total_clipped = 0
    for coupon in unclipped:
        clip_id = coupon[0]
        item_type = coupon[1]
        item_name = coupon[2]
        response = post_clip(clip_id, item_type, JWT_TOKEN, STORE_ID, COOKIE2)
        total_clipped += 1
        print(f'Clipped coupon {clip_id} {item_name}.  Total clipped = {total_clipped}')
        sleep(.1)


clip_all_coupons()